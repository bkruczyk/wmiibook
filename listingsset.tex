% konfifuracja wyglądu listingów. 
% źródło: http://stackoverflow.com/questions/741985/latex-source-code-listing-like-in-professional-books
% więcej informacji: ftp://ftp.tex.ac.uk/tex-archive/macros/latex/contrib/listings/listings.pdf

\usepackage{color}

% wygląd treści listingów
\usepackage{listings}
\lstset{
    basicstyle=\footnotesize,           %\ttfamily, % Standardschrift
    %numbers=left,                      % Ort der Zeilennummern
    numberstyle=\tiny,                  % Stil der Zeilennummern
    %stepnumber=2,                      % Abstand zwischen den Zeilennummern
    numbersep=5pt,                      % Abstand der Nummern zum Text
    tabsize=2,                          % Groesse von Tabs
    extendedchars=true,                 %
    breaklines=true,                    % Zeilen werden Umgebrochen
    keywordstyle=\color{black},
    frame=b,         
    keywordstyle=[1]\textbf,           % Stil der Keywords
    %keywordstyle=[2]\textbf,           %
    %keywordstyle=[3]\textbf,           %
    %keywordstyle=[4]\textbf,   \sqrt{\sqrt{}} %
    %stringstyle=\color{white}\ttfamily % Farbe der String
    stringstyle=\ttfamily,
    showspaces=false,                   % Leerzeichen anzeigen ?
    showtabs=false,                     % Tabs anzeigen ?
    xleftmargin=17pt,
    framexleftmargin=17pt,
    framexrightmargin=5pt,
    framexbottommargin=4pt,
    %backgroundcolor=\color{lightgray},
    showstringspaces=false              % Leerzeichen in Strings anzeigen ?        
}

% wygląd nagłowków listingów
\usepackage{caption}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[cmyk]{0.43, 0.35, 0.35,0.01}{\parbox{\textwidth}{\hspace{15pt}#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white,singlelinecheck=false,margin=0pt,font={bf,sf,footnotesize}}

\renewcommand{\lstlistlistingname}{Spis listingów}